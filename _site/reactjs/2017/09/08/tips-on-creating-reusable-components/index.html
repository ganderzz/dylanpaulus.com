<!DOCTYPE html>
    <head>
        <meta charset="UTF-8">
        <meta name="description" content="Ramblings on software engineering and web development">
        <meta name="keywords" content="software, code, programming, blog, portfolio, ReactJs">
        <meta name="author" content="Dylan Paulus">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <title>Dylan Paulus - React: Tips on Creating Reusable Components</title>

        

        <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,900" rel="stylesheet">
        <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" type="text/css" rel="stylesheet" />

        <style>
            /*! normalize.css v5.0.0 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,footer,header,nav,section{display:block}h1{font-size:2em;margin:0.67em 0}figcaption,figure,main{display:block}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace, monospace;font-size:1em}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace, monospace;font-size:1em}dfn{font-style:italic}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}audio,video{display:inline-block}audio:not([controls]){display:none;height:0}img{border-style:none}svg:not(:root){overflow:hidden}button,input,optgroup,select,textarea{font-family:sans-serif;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}button,html [type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid #c0c0c0;margin:0 2px;padding:0.35em 0.625em 0.75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{display:inline-block;vertical-align:baseline}textarea{overflow:auto}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px}[type="search"]::-webkit-search-cancel-button,[type="search"]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details,menu{display:block}summary{display:list-item}canvas{display:inline-block}template{display:none}[hidden]{display:none}.container{position:relative;width:100%;max-width:1020px;margin:0 auto;padding:0 20px;box-sizing:border-box}.column,.columns{width:100%;float:left;box-sizing:border-box}@media (min-width: 400px){.container{width:85%;padding:0}}@media (min-width: 550px){.container{width:80%}.column,.columns{margin-left:4%}.column:first-child,.columns:first-child{margin-left:0}.one.column,.one.columns{width:4.66666666667%}.two.columns{width:13.3333333333%}.three.columns{width:22%}.four.columns{width:30.6666666667%}.five.columns{width:39.3333333333%}.six.columns{width:48%}.seven.columns{width:56.6666666667%}.eight.columns{width:65.3333333333%}.nine.columns{width:74.0%}.ten.columns{width:82.6666666667%}.eleven.columns{width:91.3333333333%}.twelve.columns{width:100%;margin-left:0}.one-third.column{width:30.6666666667%}.two-thirds.column{width:65.3333333333%}.one-half.column{width:48%}.offset-by-one.column,.offset-by-one.columns{margin-left:8.66666666667%}.offset-by-two.column,.offset-by-two.columns{margin-left:17.3333333333%}.offset-by-three.column,.offset-by-three.columns{margin-left:26%}.offset-by-four.column,.offset-by-four.columns{margin-left:34.6666666667%}.offset-by-five.column,.offset-by-five.columns{margin-left:43.3333333333%}.offset-by-six.column,.offset-by-six.columns{margin-left:52%}.offset-by-seven.column,.offset-by-seven.columns{margin-left:60.6666666667%}.offset-by-eight.column,.offset-by-eight.columns{margin-left:69.3333333333%}.offset-by-nine.column,.offset-by-nine.columns{margin-left:78.0%}.offset-by-ten.column,.offset-by-ten.columns{margin-left:86.6666666667%}.offset-by-eleven.column,.offset-by-eleven.columns{margin-left:95.3333333333%}.offset-by-one-third.column,.offset-by-one-third.columns{margin-left:34.6666666667%}.offset-by-two-thirds.column,.offset-by-two-thirds.columns{margin-left:69.3333333333%}.offset-by-one-half.column,.offset-by-one-half.columns{margin-left:52%}}html{font-size:62.5%}body{font-size:1.5em;line-height:1.6;font-weight:400;font-family:"Raleway", "HelveticaNeue", "Helvetica Neue", Helvetica, Arial, sans-serif;color:#222}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:2rem;font-weight:300}h1{font-size:4.0rem;line-height:1.2;letter-spacing:-.1rem}h2{font-size:3.6rem;line-height:1.25;letter-spacing:-.1rem}h3{font-size:3.0rem;line-height:1.3;letter-spacing:-.1rem}h4{font-size:2.4rem;line-height:1.35;letter-spacing:-.08rem}h5{font-size:1.8rem;line-height:1.5;letter-spacing:-.05rem}h6{font-size:1.5rem;line-height:1.6;letter-spacing:0}@media (min-width: 550px){h1{font-size:5.0rem}h2{font-size:4.2rem}h3{font-size:3.6rem}h4{font-size:3.0rem}h5{font-size:2.4rem}h6{font-size:1.5rem}}p{margin-top:0}a{color:#1EAEDB}a:hover{color:#0FA0CE}.button,button,input[type="submit"],input[type="reset"],input[type="button"]{display:inline-block;height:38px;padding:0 30px;color:#555;text-align:center;font-size:11px;font-weight:600;line-height:38px;letter-spacing:.1rem;text-transform:uppercase;text-decoration:none;white-space:nowrap;background-color:transparent;border-radius:4px;border:1px solid #bbb;cursor:pointer;box-sizing:border-box}.button:hover,button:hover,input[type="submit"]:hover,input[type="reset"]:hover,input[type="button"]:hover,.button:focus,button:focus,input[type="submit"]:focus,input[type="reset"]:focus,input[type="button"]:focus{color:#333;border-color:#888;outline:0}.button.button-primary,button.button-primary,input[type="submit"].button-primary,input[type="reset"].button-primary,input[type="button"].button-primary{color:#FFF;background-color:#33C3F0;border-color:#33C3F0}.button.button-primary:hover,button.button-primary:hover,input[type="submit"].button-primary:hover,input[type="reset"].button-primary:hover,input[type="button"].button-primary:hover,.button.button-primary:focus,button.button-primary:focus,input[type="submit"].button-primary:focus,input[type="reset"].button-primary:focus,input[type="button"].button-primary:focus{color:#FFF;background-color:#1EAEDB;border-color:#1EAEDB}input[type="email"],input[type="number"],input[type="search"],input[type="text"],input[type="tel"],input[type="url"],input[type="password"],textarea,select{height:38px;padding:6px 10px;background-color:#fff;border:1px solid #D1D1D1;border-radius:4px;box-shadow:none;box-sizing:border-box}input[type="email"],input[type="number"],input[type="search"],input[type="text"],input[type="tel"],input[type="url"],input[type="password"],textarea{-webkit-appearance:none;-moz-appearance:none;appearance:none}textarea{min-height:65px;padding-top:6px;padding-bottom:6px}input[type="email"]:focus,input[type="number"]:focus,input[type="search"]:focus,input[type="text"]:focus,input[type="tel"]:focus,input[type="url"]:focus,input[type="password"]:focus,textarea:focus,select:focus{border:1px solid #33C3F0;outline:0}label,legend{display:block;margin-bottom:.5rem;font-weight:600}fieldset{padding:0;border-width:0}input[type="checkbox"],input[type="radio"]{display:inline}label>.label-body{display:inline-block;margin-left:.5rem;font-weight:normal}ul{list-style:circle inside}ol{list-style:decimal inside}ol,ul{padding-left:0;margin-top:0}ul ul,ul ol,ol ol,ol ul{margin:1.5rem 0 1.5rem 3rem;font-size:90%}li{margin-bottom:1rem}code{padding:.2rem .5rem;margin:0 .2rem;font-size:90%;white-space:nowrap;background:#F1F1F1;border:1px solid #E1E1E1;border-radius:4px}pre>code{display:block;padding:1rem 1.5rem;white-space:pre}th,td{padding:12px 15px;text-align:left;border-bottom:1px solid #E1E1E1}th:first-child,td:first-child{padding-left:0}th:last-child,td:last-child{padding-right:0}button,.button{margin-bottom:1rem}input,textarea,select,fieldset{margin-bottom:1.5rem}pre,blockquote,dl,figure,table,p,ul,ol,form{margin-bottom:2.5rem}.u-full-width{width:100%;box-sizing:border-box}.u-max-full-width{max-width:100%;box-sizing:border-box}.u-pull-right{float:right}.u-pull-left{float:left}hr{margin-top:3rem;margin-bottom:3.5rem;border-width:0;border-top:1px solid #E1E1E1}.container:after,.row:after,.u-cf{content:"";display:table;clear:both}body{-webkit-text-size-adjust:100%;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:'Lato', sans-serif}h4{margin-top:1rem;margin-bottom:0.5rem}header{margin-top:50px;color:#111;margin-bottom:10px;border-bottom:1px solid #F1F1F1}header h3{font-weight:700;font-size:2.3rem}header h3 a{text-decoration:none;color:#111;cursor:pointer;transition:all 0.12s}header nav a{text-decoration:none;color:#111;margin-left:10px;cursor:pointer;transition:all 0.12s}.dp__post-container{line-height:3rem}.dp__post-container code{line-height:2.3rem}.dp__content{margin-top:30px}.dp__post{margin-top:30px}.dp__post-date{color:#999}.dp__post-header{margin:-4px 0 0 0;font-size:3rem;font-weight:600;cursor:pointer}.dp__post-header a{color:#111;text-decoration:none;transition:all 0.12s}.dp__post-header a:hover{color:#1EAEDB}.dp__post-tag{color:#999}.dp__about_links{margin-top:3rem;text-align:center;font-size:2.5rem}.dp__about_links>a{margin:0 8px}.dp__content_image{text-align:center}.dp__content_image>img{padding:4px;background:#DDD}.dp__footer{font-size:1.5rem;margin-top:100px;margin-bottom:30px;text-align:center}.dp__footer a{color:#111;text-decoration:none;opacity:0.6;font-size:4rem;margin-right:10px;transition:all 0.12s}.dp__footer a:hover{color:#1EAEDB;opacity:1}

        </style>
    </head>
    <body>

    <main class="container">
        <header class="row">
            <div class="five columns">
                <h3><a href="/">Dylan Paulus</a></h3>
            </div>

            <nav class="seven columns" style="text-align: right;">
                <a href="/">Home</a>
                <a href="/about">About</a>
            </nav>
        </header>

<section class="dp__post-container">
    <h1 id="tips-on-creating-reusable-components">Tips on Creating Reusable Components</h1>

<h3 id="introduction">Introduction</h3>

<p>A huge selling point of React is its use of composable, reusable components. Everything is built off the idea of <code class="highlighter-rouge">V = F(d)</code>, or view/UI is created by some function acting on data/state. How do we create more advanced user interface? Well, just add more functions to the party (For example <code class="highlighter-rouge">V = G(F(E(S(d))))</code>). That’s cute, why does this matter? Thinking of our components as functions, even if we use <em>class</em>, will help us create more reusable components. It even helps us write super helpful utility functions called <a href="http://dylanpaulus.com/reactjs/2017/08/17/higher-order-components/">Higher Order Components</a>.</p>

<p>To start off our journey of improving the usability of a component. Let’s take for example this button that has an icon.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>class IconButton extends React.Component {
    render() {
        &lt;Button onClick={this.props.onClick}&gt;
            &lt;Icon /&gt;
            {" "}
            {this.props.text}
        &lt;/Button&gt;
    }
}
</code></pre>
</div>

<p>And to consume the button,</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;IconButton
    text="Click Me!"
    onClick={() =&gt; alert("Click!")}
/&gt;
</code></pre>
</div>

<p>Not bad.. easy to use, and to the point. But, some part of me thinks this could be better. Let’s walk through a few suggestions on making this component more reusable.</p>

<h3 id="keep-it-simple-jack">Keep it Simple, Jack</h3>

<p>Continuing on the topic of thinking of components as functions, keep components simple. Components that do too many things are dangerous. They are easy to break, and a pain to maintain. Instead, split functionality into separate components, then compose those components to make something functional. This makes it really easy to maintain features, and to swap out functionality when requirements change.</p>

<p>From the looks of it, we really don’t need an IconButton component. What if tomorrow we need an IconInput button? We not have two separate, but pretty similar components to maintain! We can fix this by using composition. It seems what we really want is something that ‘adds an icon’ to a component. Let’s make a new component called IconAdder.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>class IconAdder extends React.Component {
    render() {
        return (
            &lt;div&gt;
                &lt;Icon /&gt;
                {" "}
                {this.props.component}
            &lt;/div&gt;
        );
    }
}
</code></pre>
</div>

<p>to consume it</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;IconAdder
    component={
        &lt;Button onClick={() =&gt; alert("Click!")}&gt;
            Click Me!
        &lt;/Button&gt;
    }
/&gt;
</code></pre>
</div>

<p>IconAdder allows us to throw any ol’ component we want into it, and it’ll add an Icon to it. Nice.</p>

<h3 id="hello-there-children">Hello There, Children!</h3>

<p>One thing I come across a lot is the overuse of component properties. Components should almost never be used as properties. It ends up making components hard to use, and in the end, we are fighting with React. In our last example of the IconAdder, we broke this rule! In React, every component has a property called children (<code class="highlighter-rouge">props.children</code>). This says, whatever we pass between this component’s tags, we’ll insert here. Let’s see an example transforming out IconAdder component.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>class IconAdder extends React.Component {
    render() {
        return (
            &lt;div&gt;
                &lt;Icon /&gt;
                {" "}
                {this.props.children}
            &lt;/div&gt;
        );
    }
}
</code></pre>
</div>

<p>to consume it</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;IconAdder&gt;
    &lt;Button onClick={() =&gt; alert("Click!")}&gt;
        Click Me!
    &lt;/Button&gt;
&lt;/IconAdder&gt;
</code></pre>
</div>

<p>The <code class="highlighter-rouge">&lt;Button&gt;</code> component will be inserted in IconAdder’s <code class="highlighter-rouge"><span class="p">{</span><span class="err">this.props.children</span><span class="p">}</span></code>! Much better!</p>

<h3 id="injecting-html-types">Injecting HTML Types</h3>

<p>I wrote an article on this <a href="http://dylanpaulus.com/reactjs/2017/07/26/injecting-react-tag-types/">subject here</a> already so I’ll be brief.</p>

<p>As someone consuming a component, I want as little pollution of my code as possible. Pollution in this case could be anything: event handlers, code size, or even HTML elements. In the case of our IconAdder component, a parent <code class="highlighter-rouge">&lt;div&gt;</code> wrapper gets added to every component using it. It would be great if we could get rid of the div, and just make it our child component. Well… we’re in luck. We can specify a tag property, and then use that property. This let’s the end-user be in control of their DOM structure.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>class IconAdder extends React.Component {
    render() {
        const { tag, onClick, children } = this.props; 
        const Tag = tag;

        return (
            &lt;Tag onClick={onClick}&gt;
                &lt;Icon /&gt;
                {" "}
                {children}
            &lt;/Tag&gt;
        );
    }
}
</code></pre>
</div>

<p>to consume it</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;IconAdder
    tag={Button}
    onClick={() =&gt; alert("Click!")}
&gt;
    Click Me!
&lt;/IconAdder&gt;
</code></pre>
</div>

<p>Another benefit of using a ‘tag’ property, is let’s say that we want to support React Router’s <code class="highlighter-rouge">&lt;Link&gt;</code> component, but we also need to support the classic HTML <code class="highlighter-rouge">&lt;a&gt;</code> tag. We can easily swap these two out by just changing the ‘tag’ prop!</p>

<h3 id="allow-extension">Allow Extension</h3>

<p>Nothing grinds my gears like getting a fresh new component, but realizing I want to make the font bold. So, I add a quick <code class="highlighter-rouge">style=</code> to the component, refresh, and nothing changes. (Warning: what is about to be shown requires a transpiler).</p>

<p>We should allow our components to be reasonably editable, while protecting what we need to. This can be done by the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment#Rest_in_Object_Destructuring">rest operator</a>.</p>

<p>Right now, our IconAdder component won’t accept a style, className, or title prop. Oh yeah, and what about in the future if we need to use IconAdder on a <code class="highlighter-rouge">&lt;a&gt;</code> tag. We’ll need to support href also. Let’s use the rest operator to support all of these properties!</p>

<div class="highlighter-rouge"><pre class="highlight"><code>class IconAdder extends React.Component {
    render() {
        const { tag, onClick, children, ...rest } = this.props; 
        const Tag = tag;

        return (
            &lt;Tag onClick={onClick} {...rest}&gt;
                &lt;Icon /&gt;
                {" "}
                {children}
            &lt;/Tag&gt;
        );
    }
}
</code></pre>
</div>

<p>to consume it</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;IconAdder
    tag={Button}
    onClick={() =&gt; alert("Click!")}
    style=
    title="A button for clicking"
&gt;
    Click Me!
&lt;/IconAdder&gt;
</code></pre>
</div>

<p><code class="highlighter-rouge">...rest</code> will grab whatever properties we haven’t taken off in the destructuring (<code class="highlighter-rouge">const { a, b, c} = this.props;</code>), and assign it, in this case, to a variable called <code class="highlighter-rouge">rest</code>. We then apply all those properties to our <code class="highlighter-rouge">&lt;Tag&gt;</code> component by destructuring the <code class="highlighter-rouge">rest</code> object into the individual props. As shown in the consumption of IconAdder, we can now add whatever other properties we want!</p>

<h3 id="conclusion">Conclusion</h3>

<p>These are a few tips I use when creating components to keep them easier to consume, and extend. In summary, think of every component as a function. It will consume some input, and produce an output. The children property is your friend, use it when it makes sense! Dynamically injecting the component type can turn multiple similar components, into one highly reusable component. Finally, allow components to receive extra props, and have the properties/styles override the base implementation when possible.</p>


</section>

        <footer class="row dp__footer">
            <div class="twelve columns">
                <a href="https://github.com/ganderzz">
                    <i class="fa fa-github" aria-hidden="true"></i>
                </a>

                <a href="https://codepen.io/ganderzz/">
                    <i class="fa fa-codepen" aria-hidden="true"></i>
                </a>

                <a href="https://twitter.com/DylanPaulus">
                    <i class="fa fa-twitter" aria-hidden="true"></i>
                </a>
            </div>
        </footer>
    </main>

    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-69213445-1', 'auto');
        ga('send', 'pageview');
    </script>
    </body>
</html>